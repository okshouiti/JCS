# 数理演算と初歩的な関数

\tableofcontents

\note{ここでは型という概念が出てきます。これは後の型項で説明する概念ですが、ざっくり「値の分類」だと考えてください。}





## 算術演算子
すべての[数値プリミティブ型](https://ja.wikipedia.org/wiki/プリミティブ型)において以下の[算術演算子](https://ja.wikipedia.org/wiki/算術#算術演算)が使えます。

| 記法    | 名前     | 備考           |
|---------|----------|----------------|
| `+x`    | 単項加算 | 恒等作用素     |
| `-x`    | 単項減算 | 値の正負を反転 |
| `x + y` | 二項加算 |                |
| `x - y` | 二項減算 |                |
| `x * y` | 乗算     |                |
| `x / y` | 除算     |                |
| `x \ y` |          | `x / y`と同じ  |
| `x ÷ y` | 整除算   | x割るyの商     |
| `x % y` | 剰余算   | x割るyの余り   |
| `x ^ y` | べき算   |                |

また論理（Bool）型には否定（negation）があります。

| 記法 | 名前 | 備考         |
|------|------|--------------|
| `!x` | 否定 | 真偽値の反転 |

算術演算子を用いて様々な計算を行うことが出来ます。
```julia
1 + 2 + 3   # -> 6

1 - 2   # -> -1

3*2/12   # -> 0.5
```

変数または括弧の前に数値リテラルを置いた場合、これらは乗算として扱われるため、数学のように乗算演算子を省略可能です（例 `2x`、`2(x+y)`）。ただし、より優先度の高い演算子がある場合などは例外です（詳しくは[Numeric Literal Coefficients]()を参照）。乗算演算子省略の対応は下記のようになっています。[表の引用元](https://qiita.com/sadayuki-matsuno/items/fc5e9ec3894a4b7bfbfb)

| 左   | 右   | 可否 | 例           | 備考                     |
|------|------|------|--------------|--------------------------|
| 数   | 数   | -    | `23`         | ただの数値23             |
| 数   | 変数 | 可   | `2x`         |                          |
| 数   | ( )  | 可   | `2(x+1)`     | 数学同様括弧内を先に計算 |
| 変数 | 数   | -    | `x3`         | x3という変数扱い         |
| 変数 | ( )  | -    | `x(1+2)`     | 関数xの呼び出し扱い      |
| 変数 | 変数 | -    | `xy`         | 名前xyの変数扱い         |
| ( )  | 数   | -    | `(x+1)2`     |                          |
| ( )  | 変数 | 可   | `(x+1)x`     |                          |
| ( )  | ( )  | -    | `(x+1)(y+2)` | これまた関数呼び出し扱い |





## 更新演算子
各二項算術演算子には演算子の後ろに`=`をつける更新演算子と呼ばれる別バージョンが存在します。これは変数と値に演算をし、結果をその変数自身に代入します。
```julia
x = 1

x   # -> 1

x += 3

x   # -> 4
```
またこれは`x = x+3`と同等です。

更新演算をすると変数の型が変わる場合があります。
```julia
x = 4

typeof(x)   # -> Int64

x /= 2

typeof(x)   # -> Float64

3 += 3   # エラー
```
代入を伴うため当然ですが、変数以外で更新演算を行うことは出来ません。

\note{ここでは公式ドキュメントの"Updating Operators"をもとに更新演算子としましたが、一般にこのような演算子は代入演算子と呼ばれているようです。}





## ドット演算
更新演算同様に二項演算は[ブロードキャスト](https://docs.julialang.org/en/v1.3/manual/arrays/#Broadcasting-1)をサポートします。これは配列の各要素に対して同じ演算を行う場合に使います。演算子の「前」に`.`を付けます。
```
A = [1, 2, 3]

A ^ 3   # -> エラー

A .^ 3   # -> [1, 8, 27]

.√A   # -> [1.0, 1.4142…, 1.7320…]
```
二項演算だけでなく`!`や`√`などの単項演算でも使えます。要素数が同じであれば配列同士でも計算できます。
```
B = [4, 5, 6]

A .+ B   # -> [5, 7, 9]
```
また、`@.`マクロは後に続く　を使えばスッキリ書けます。以下の2つは同じです。
```
2 .* A.^2 .+ sin.(A)

@. 2*A^2 + sin(A)
```

\note{「ドット演算」という表現はほとんど見かけず、「ブロードキャストする」と言われることが多いようです。}





## 比較
### 数値比較
すべての数値プリミティブで比較演算が使えます。

| 演算子    | 名前                 |
|-----------|----------------------|
| `==`      | 等しい               |
| `!=`, `≠` | 等しくない           |
| `<`       | 小さい               |
| `>`       | 大きい               |
| `<=`, `≤` | 小さい、または等しい |
| `>=`, `≥` | 大きい、または等しい |

比較結果を真偽値で返します。
```
1 == 1   # -> true

1 != 2   # -> true

3 < -0.5   # -> false
```

### 比較の連鎖
aaa