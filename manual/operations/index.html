<!doctype html> <html lang=ja > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <script src="/libs/main.js"></script> <link rel=stylesheet  href="/css/reboot.css"> <link rel=stylesheet  href="/css/main.css"> <link rel=icon  href="/assets/favicon.png"> <title>数理演算と初歩的な関数</title> <style> span.name { color: #50b949; font-family: Cica } </style> <div class=sidebar > <div class="container sidebar-sticky"> <div class=sidebar-about > <div class=top >JCS</div> <div class=lead >Julia Cheat Site.</div> </div> <nav class=sidebar-nav > <ul class=menu-list > <li class=menu-parent ><a href="/" class=menu-link >トップ</a> <li class="menu-parent active"><a href="/manual/getting-started/" class=menu-link >マニュアル</a> <ul class=menu-child > <li><a class="" href="/manual/getting-started/">はじめる</a> <li><a class="" href="/manual/variables/">変数</a> <li><a class="" href="/manual/int-and-float/">整数と浮動小数点数</a> <li><a class=active  href="/manual/operations/">数理演算と初歩的な関数</a> <li><a class="" href="/manual/complex-and-rational/">複素数と有理数</a> <li><a class="" href="/manual/strings/">文字列</a> <li><a class="" href="/manual/functions/">関数</a> <li><a class="" href="/manual/control-flow/">制御構造</a> <li><a class="" href="/manual/scope/">スコープ</a> <li><a class="" href="/manual/type/">型</a> </ul> <!-- <li class="menu-parent {{ispage base/*}}active{{end}}"><a href="/base/essentials/" class=menu-link >Base</a> <ul class=menu-child > {{for p in base}} <li><a class="{{ispage {{p}}}}active{{end}}" href="/{{fill p}}/">{{fill title p}}</a> {{end}} </ul> <li class="menu-parent {{ispage omake/*}}active{{end}}"><a href="/omake/Cascadia.jl/" class=menu-link >おまけ</a> <ul class=menu-child > {{for p in omake}} <li><a class="{{ispage {{p}}}}active{{end}}" href="/{{fill p}}/">{{fill title p}}</a> {{end}} </ul> --> </ul> </nav> </div> </div> <div class="content container"> <header> <div class=sidebar-button  onclick="toggle()"> <div class=bar1 ></div> <div class=bar2 ></div> <div class=bar3 ></div> </div> </header> <div class=franklin-content ><h1 id="数理演算と初歩的な関数"><a href="#数理演算と初歩的な関数">数理演算と初歩的な関数</a></h1> <div class=franklin-toc ><ol><li><a href="#算術演算子">算術演算子</a><li><a href="#更新演算子">更新演算子</a><li><a href="#ドット演算">ドット演算</a><li><a href="#比較">比較</a><ol><li><a href="#数値比較">数値比較</a><li><a href="#比較の連鎖">比較の連鎖</a></ol></ol></div> <div class=note ><div class=title >📝 MEMO</div> <div class=content >ここでは型という概念が出てきます。これは後の型項で説明する概念ですが、ざっくり「値の分類」だと考えてください。</div></div> <h2 id="算術演算子"><a href="#算術演算子">算術演算子</a></h2> <p>すべての<a href="https://ja.wikipedia.org/wiki/プリミティブ型">数値プリミティブ型</a>において以下の<a href="https://ja.wikipedia.org/wiki/算術#算術演算">算術演算子</a>が使えます。</p> <table><tr><th align=right >記法<th align=right >名前<th align=right >備考<tr><td align=right ><code>&#43;x</code><td align=right >単項加算<td align=right >恒等作用素<tr><td align=right ><code>-x</code><td align=right >単項減算<td align=right >値の正負を反転<tr><td align=right ><code>x &#43; y</code><td align=right >二項加算<td align=right ><tr><td align=right ><code>x - y</code><td align=right >二項減算<td align=right ><tr><td align=right ><code>x * y</code><td align=right >乗算<td align=right ><tr><td align=right ><code>x / y</code><td align=right >除算<td align=right ><tr><td align=right ><code>x \ y</code><td align=right ><td align=right ><code>x / y</code>と同じ<tr><td align=right ><code>x ÷ y</code><td align=right >整除算<td align=right >x割るyの商<tr><td align=right ><code>x &#37; y</code><td align=right >剰余算<td align=right >x割るyの余り<tr><td align=right ><code>x ^ y</code><td align=right >べき算<td align=right ></table> <p>また論理（Bool）型には否定（negation）があります。</p> <table><tr><th align=right >記法<th align=right >名前<th align=right >備考<tr><td align=right ><code>&#33;x</code><td align=right >否定<td align=right >真偽値の反転</table> <p>算術演算子を用いて様々な計算を行うことが出来ます。</p> <pre><code class="julia hljs"><span class=hljs-number >1</span> + <span class=hljs-number >2</span> + <span class=hljs-number >3</span>   <span class=hljs-comment ># -&gt; 6</span>

<span class=hljs-number >1</span> - <span class=hljs-number >2</span>   <span class=hljs-comment ># -&gt; -1</span>

<span class=hljs-number >3</span>*<span class=hljs-number >2</span>/<span class=hljs-number >12</span>   <span class=hljs-comment ># -&gt; 0.5</span></code></pre> <p>変数または括弧の前に数値リテラルを置いた場合、これらは乗算として扱われるため、数学のように乗算演算子を省略可能です（例 <code>2x</code>、<code>2&#40;x&#43;y&#41;</code>）。ただし、より優先度の高い演算子がある場合などは例外です（詳しくは<a href="">Numeric Literal Coefficients</a>を参照）。乗算演算子省略の対応は下記のようになっています。<a href="https://qiita.com/sadayuki-matsuno/items/fc5e9ec3894a4b7bfbfb">表の引用元</a></p> <table><tr><th align=right >左<th align=right >右<th align=right >可否<th align=right >例<th align=right >備考<tr><td align=right >数<td align=right >数<td align=right >-<td align=right ><code>23</code><td align=right >ただの数値23<tr><td align=right >数<td align=right >変数<td align=right >可<td align=right ><code>2x</code><td align=right ><tr><td align=right >数<td align=right >&#40; &#41;<td align=right >可<td align=right ><code>2&#40;x&#43;1&#41;</code><td align=right >数学同様括弧内を先に計算<tr><td align=right >変数<td align=right >数<td align=right >-<td align=right ><code>x3</code><td align=right >x3という変数扱い<tr><td align=right >変数<td align=right >&#40; &#41;<td align=right >-<td align=right ><code>x&#40;1&#43;2&#41;</code><td align=right >関数xの呼び出し扱い<tr><td align=right >変数<td align=right >変数<td align=right >-<td align=right ><code>xy</code><td align=right >名前xyの変数扱い<tr><td align=right >&#40; &#41;<td align=right >数<td align=right >-<td align=right ><code>&#40;x&#43;1&#41;2</code><td align=right ><tr><td align=right >&#40; &#41;<td align=right >変数<td align=right >可<td align=right ><code>&#40;x&#43;1&#41;x</code><td align=right ><tr><td align=right >&#40; &#41;<td align=right >&#40; &#41;<td align=right >-<td align=right ><code>&#40;x&#43;1&#41;&#40;y&#43;2&#41;</code><td align=right >これまた関数呼び出し扱い</table> <h2 id="更新演算子"><a href="#更新演算子">更新演算子</a></h2> <p>各二項算術演算子には演算子の後ろに<code>&#61;</code>をつける更新演算子と呼ばれる別バージョンが存在します。これは変数と値に演算をし、結果をその変数自身に代入します。</p> <pre><code class="julia hljs">x = <span class=hljs-number >1</span>

x   <span class=hljs-comment ># -&gt; 1</span>

x += <span class=hljs-number >3</span>

x   <span class=hljs-comment ># -&gt; 4</span></code></pre> <p>またこれは<code>x &#61; x&#43;3</code>と同等です。</p> <p>更新演算をすると変数の型が変わる場合があります。</p> <pre><code class="julia hljs">x = <span class=hljs-number >4</span>

typeof(x)   <span class=hljs-comment ># -&gt; Int64</span>

x /= <span class=hljs-number >2</span>

typeof(x)   <span class=hljs-comment ># -&gt; Float64</span>

<span class=hljs-number >3</span> += <span class=hljs-number >3</span>   <span class=hljs-comment ># エラー</span></code></pre> <p>代入を伴うため当然ですが、変数以外で更新演算を行うことは出来ません。</p> <div class=note ><div class=title >📝 MEMO</div> <div class=content >ここでは公式ドキュメントの&quot;Updating Operators&quot;をもとに更新演算子としましたが、一般にこのような演算子は代入演算子と呼ばれているようです。</div></div> <h2 id="ドット演算"><a href="#ドット演算">ドット演算</a></h2> <p>更新演算同様に二項演算は<a href="https://docs.julialang.org/en/v1.3/manual/arrays/#Broadcasting-1">ブロードキャスト</a>をサポートします。これは配列の各要素に対して同じ演算を行う場合に使います。演算子の「前」に<code>.</code>を付けます。</p> <pre><code class="julia hljs">A = [<span class=hljs-number >1</span>, <span class=hljs-number >2</span>, <span class=hljs-number >3</span>]

A ^ <span class=hljs-number >3</span>   <span class=hljs-comment ># -&gt; エラー</span>

A .^ <span class=hljs-number >3</span>   <span class=hljs-comment ># -&gt; [1, 8, 27]</span>

.√A   <span class=hljs-comment ># -&gt; [1.0, 1.4142…, 1.7320…]</span></code></pre> <p>二項演算だけでなく<code>&#33;</code>や<code>√</code>などの単項演算でも使えます。要素数が同じであれば配列同士でも計算できます。</p> <pre><code class="julia hljs">B = [<span class=hljs-number >4</span>, <span class=hljs-number >5</span>, <span class=hljs-number >6</span>]

A .+ B   <span class=hljs-comment ># -&gt; [5, 7, 9]</span></code></pre> <p>また、<code>@.</code>マクロは後に続く　を使えばスッキリ書けます。以下の2つは同じです。</p> <pre><code class="julia hljs"><span class=hljs-number >2</span> .* A.^<span class=hljs-number >2</span> .+ sin.(A)

@. <span class=hljs-number >2</span>*A^<span class=hljs-number >2</span> + sin(A)</code></pre> <div class=note ><div class=title >📝 MEMO</div> <div class=content >「ドット演算」という表現はほとんど見かけず、「ブロードキャストする」と言われることが多いようです。</div></div> <h2 id="比較"><a href="#比較">比較</a></h2> <h3 id="数値比較"><a href="#数値比較">数値比較</a></h3> <p>すべての数値プリミティブで比較演算が使えます。</p> <table><tr><th align=right >演算子<th align=right >名前<tr><td align=right ><code>&#61;&#61;</code><td align=right >等しい<tr><td align=right ><code>&#33;&#61;</code>, <code>≠</code><td align=right >等しくない<tr><td align=right ><code>&lt;</code><td align=right >小さい<tr><td align=right ><code>&gt;</code><td align=right >大きい<tr><td align=right ><code>&lt;&#61;</code>, <code>≤</code><td align=right >小さい、または等しい<tr><td align=right ><code>&gt;&#61;</code>, <code>≥</code><td align=right >大きい、または等しい</table> <p>比較結果を真偽値で返します。</p> <pre><code class="julia hljs"><span class=hljs-number >1</span> == <span class=hljs-number >1</span>   <span class=hljs-comment ># -&gt; true</span>

<span class=hljs-number >1</span> != <span class=hljs-number >2</span>   <span class=hljs-comment ># -&gt; true</span>

<span class=hljs-number >3</span> &lt; -<span class=hljs-number >0.5</span>   <span class=hljs-comment ># -&gt; false</span></code></pre> <h3 id="比較の連鎖"><a href="#比較の連鎖">比較の連鎖</a></h3> <p>aaa</p> <div class=page-foot > <div class=copyright > &copy; okshouiti. 最終更新: 2021-01-18. <small>built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a></small>. </div> </div> </div> </div>